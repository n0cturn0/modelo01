(function(i){"use strict";i.fn.cycle.transitions.tileSlide=i.fn.cycle.transitions.tileBlind={before:function(e,t,n,o){e.API.stackSlides(t,n,o),i(t).show(),e.container.css("overflow","hidden"),e.tileDelay=e.tileDelay||"tileSlide"==e.fx?100:125,e.tileCount=e.tileCount||7,e.tileVertical=!1!==e.tileVertical,e.container.data("cycleTileInitialized")||(e.container.on("cycle-destroyed",i.proxy(this.onDestroy,e.API)),e.container.data("cycleTileInitialized",!0))},transition:function(e,t,n,o,l){function a(i){p.eq(i).animate(h,{duration:e.speed,easing:e.easing,complete:function(){(o?y-1===i:0===i)&&e._tileAniCallback()}}),setTimeout(function(){(o?y-1!==i:0!==i)&&a(o?i+1:i-1)},e.tileDelay)}e.slides.not(t).not(n).hide();var c,s,r,d,f,h,p=i(),u=i(t),v=i(n),y=e.tileCount,g=e.tileVertical,m=e.container.height(),w=e.container.width();g?(s=Math.floor(w/y),d=w-s*(y-1),r=f=m):(s=d=w,r=Math.floor(m/y),f=m-r*(y-1)),e.container.find(".cycle-tiles-container").remove();var b={left:0,top:0,overflow:"hidden",position:"absolute",margin:0,padding:0};h=g?"tileSlide"==e.fx?{top:m}:{width:0}:"tileSlide"==e.fx?{left:w}:{height:0};var x=i('<div class="cycle-tiles-container"></div>');x.css({zIndex:u.css("z-index"),overflow:"visible",position:"absolute",top:0,left:0,direction:"ltr"}),x.insertBefore(n);for(var C=0;C<y;C++)c=i("<div></div>").css(b).css({width:y-1===C?d:s,height:y-1===C?f:r,marginLeft:g?C*s:0,marginTop:g?0:C*r}).append(u.clone().css({position:"relative",maxWidth:"none",width:u.width(),margin:0,padding:0,marginLeft:g?-C*s:0,marginTop:g?0:-C*r})),p=p.add(c);x.append(p),u.hide(),v.show().css("opacity",1),a(o?0:y-1),e._tileAniCallback=function(){v.show(),u.hide(),x.remove(),l()}},stopTransition:function(i){i.container.find("*").stop(!0,!0),i._tileAniCallback&&i._tileAniCallback()},onDestroy:function(i){var e=this.opts();e.container.find(".cycle-tiles-container").remove()}}})(jQuery);